<div class="flex items-center mt-1">
<button  onclick="handRaised()">
        {{-- <svg id="raise-hand-icon" class="w-8 h-8" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12.5002 2C12.2241 2 12.0002 2.22386 12.0002 2.5V12H10.0002V4.5C10.0002 4.22386 9.77634 4 9.5002 4C9.22405 4 9.0002 4.22386 9.0002 4.5V14C8.64653 14 7.00024 14 7.00024 14C6.61911 12.3792 5.64236 11.4407 4.5954 11.3216C4.87926 12.0664 5.36117 13.2592 6.16634 15.0995C7.02511 17.0622 7.89128 18.5218 9.00374 19.4986C10.0783 20.442 11.4586 21 13.5002 21C16.5378 21 19.0002 18.5377 19.0002 15.5002V7C19.0002 6.72386 18.7763 6.5 18.5002 6.5C18.2241 6.5 18.0002 6.72386 18.0002 7V12H16.0002V4C16.0002 3.72386 15.7763 3.5 15.5002 3.5C15.2241 3.5 15.0002 3.72386 15.0002 4V12H13.0002V2.5C13.0002 2.22386 12.7763 2 12.5002 2ZM21.0002 15.5002C21.0002 19.6424 17.6423 23 13.5002 23C11.0417 23 9.17214 22.308 7.68416 21.0015C6.23411 19.7283 5.22528 17.9381 4.33405 15.9012C3.40393 13.7753 2.89004 12.4804 2.60991 11.7235C2.25318 10.7597 2.74616 9.41212 4.08583 9.31846C5.24076 9.23771 6.22061 9.61249 7.0002 10.2587V4.5C7.0002 3.11929 8.11949 2 9.5002 2C9.68522 2 9.86554 2.0201 10.0391 2.05823C10.2477 0.888227 11.2702 0 12.5002 0C13.5602 0 14.4661 0.659694 14.8298 1.59091C15.0431 1.53167 15.268 1.5 15.5002 1.5C16.8809 1.5 18.0002 2.61929 18.0002 4V4.55001C18.1618 4.51722 18.329 4.5 18.5002 4.5C19.8809 4.5 21.0002 5.61929 21.0002 7V15.5002Z"></path></svg> --}}
        <svg id="raise-hand-icon" class="w-8 h-8 text-gray-500" viewBox="0 0 24 24"><path fill="currentColor" fill-rule="evenodd" d="M18.906 3.922c-1.014-1.036-2.46-1.417-3.875-1.015a.75.75 0 1 1-.41-1.442c1.937-.552 3.954-.025 5.357 1.408a.75.75 0 1 1-1.072 1.049m-7.716-.614c-.214-.367-.838-.59-1.471-.227c-.632.36-.743.997-.532 1.357l2.525 4.332a.75.75 0 1 1-1.295.755L7.89 5.194L7.049 3.75c-.214-.367-.838-.59-1.471-.227c-.632.36-.743.997-.533 1.357l3.789 6.497a.75.75 0 1 1-1.296.756L5.854 9.245c-.214-.367-.837-.59-1.471-.227c-.631.36-.743.996-.532 1.357l3.788 6.497c1.61 2.759 5.58 3.654 8.947 1.73c3.364-1.923 4.56-5.764 2.955-8.517l-2.526-4.331c-.214-.367-.838-.59-1.471-.228c-.632.361-.742.997-.532 1.358l1.684 2.887a.75.75 0 0 1-.276 1.03c-1.543.88-2.015 2.585-1.34 3.743a.75.75 0 1 1-1.296.756c-1.06-1.817-.392-4.063 1.263-5.377zm2.73 1.702l-1.433-2.456c-.716-1.228-2.323-1.454-3.511-.774a2.8 2.8 0 0 0-.913.829c-.8-.881-2.178-.988-3.229-.388c-1.19.681-1.803 2.182-1.083 3.416l1.002 1.719a2.9 2.9 0 0 0-1.113.36c-1.191.68-1.804 2.182-1.084 3.416l3.789 6.497c2.11 3.62 7.064 4.518 10.986 2.276c3.924-2.242 5.621-6.949 3.507-10.575L18.31 5c-.716-1.228-2.323-1.454-3.511-.775c-.35.2-.65.471-.881.785M4.414 17.86a.75.75 0 0 1 1.026.27c.827 1.418 2.09 2.49 3.65 3.186a.75.75 0 0 1-.612 1.37c-1.811-.809-3.331-2.08-4.334-3.8a.75.75 0 0 1 .27-1.026" clip-rule="evenodd"></path></svg>
</button>
{{-- only for data save in redis --}}
    <livewire:dashboard.hand-raise-func /> 
</div>

<script>
        // const socket = io('http://localhost:3000');
        const socket = io({
        path: "/socket.io",
        transports: ['websocket'],
    });
        const loggedInUserId = "{{ auth()->id() }}";
        const RAISE_HAND_TIME = {{ config('app.raise_hand_time', 10) }} * 1000;
        

        function handRaised() {
    const userId = loggedInUserId;
    console.log('hand raised');
            Livewire.emitTo("dashboard.hand-raise-func", "saveData", userId);
    socket.emit('hand_raised', userId);


    // Change button color to red
        const icon = document.getElementById("raise-hand-icon");
        icon.classList.remove("text-gray-500");
        icon.classList.add("text-red-700");

        // Revert to grey after seconds
        

        setTimeout(() => {
            icon.classList.remove("text-red-700");
            icon.classList.add("text-gray-500");
        }, RAISE_HAND_TIME);
}


        </script>